(this.webpackJsonpcasescan=this.webpackJsonpcasescan||[]).push([[0],{126:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),i=a(31),s=a.n(i),o=(a(126),a(205)),l=a(197),u=a(210),d=a(73),j=a(11),m=a(199),p=a(200),b=a(201),h=a(202),x=a(44),f=a.n(x),O=a(110),g=a.n(O),v=a(181),y=Object(l.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",justifyContent:"center",height:"100%",paddingTop:"2em"},ul:{textDecoration:"none",width:"100% !important",justifyContent:"center"},link:{textDecoration:"none",color:e.palette.text.primary,textAlign:"center","&:visited":{textDecoration:"none"},"&:hover":{textDecoration:"none"},"&:focus":{textDecoration:"none"},"&:active":{textDecoration:"none"}},item:{"&:hover":{backgroundColor:e.palette.primary.light}}}}));var C=function(){var e=y(),t=[{text:"Clinic cases",icon:Object(n.jsx)(g.a,{}),href:"/clinical-cases"},{text:"Search similarities",icon:Object(n.jsx)(f.a,{}),href:"search"}];return Object(n.jsx)(v.a,{className:e.root,children:Object(n.jsx)(m.a,{className:e.ul,children:t.map((function(t){return Object(n.jsx)(d.b,{to:t.href,style:{textDecoration:"none"},className:e.link,children:Object(n.jsxs)(p.a,{className:e.item,children:[Object(n.jsx)(b.a,{children:t.icon}),Object(n.jsx)(h.a,{primary:t.text})]},t.text)})}))})})},k=a(10),N=a.n(k),w=a(17),S=a(13),B=a(55),T=a(215),_=a(209),A=a(75),I=a.n(A),H=a(203),R=a(204),D=a(216),L=a(217),W=a(206),M=a(207),E=a(208),q=["medical_history","physic_exploration","supplementary_tests","assessment","treatment","evolution"],F=function(e){var t=e.replace("_"," ");return t.charAt(0).toUpperCase()+t.slice(1)},G=a(112),P=a.n(G),J=a(111),z=a.n(J),U=Object(l.a)((function(e){return{root:{minWidth:275},title:{textAlign:"left",textTransform:"uppercase",color:e.palette.text.secondary,marginBottom:"0.5em",fontSize:"18px"},subtitle:{textTransform:"uppercase",fontWeight:600},paragraph:{textAlign:"justify"},divider:{marginBottom:"1em"},section:{marginBottom:"1em"},cardOpen:{height:"auto"},cardClose:{maxHeight:"20em"},actionArea:{backgroundColor:"white",textAlign:"center"}}}));var K=function(e){var t=U(),a=c.a.useState(!1),r=Object(S.a)(a,2),i=r[0],s=r[1];return Object(n.jsxs)(H.a,{variant:"outlined",className:t.root,square:!0,children:[Object(n.jsxs)(R.a,{className:i?t.cardOpen:t.cardClose,children:[Object(n.jsxs)(o.a,{container:!0,justify:"space-between",children:[Object(n.jsx)(o.a,{item:!0,children:Object(n.jsxs)(B.a,{variant:"h6",component:"h2",className:t.title,children:["Case id: ",e.case_id]})}),e.percentage&&Object(n.jsx)(o.a,{item:!0,children:Object(n.jsx)(D.a,{avatar:Object(n.jsx)(L.a,{children:"%"}),label:e.percentage,variant:"outlined"})})]}),Object(n.jsx)(W.a,{className:t.divider}),q.map((function(a){return a in e.sections?Object(n.jsxs)("div",{className:t.section,children:[Object(n.jsx)(B.a,{variant:"subtitle1",className:t.subtitle,children:F(a)}),Object(n.jsx)(B.a,{variant:"body1",className:t.paragraph,children:e.sections[a]})]}):[]}))]}),Object(n.jsx)(M.a,{className:t.actionArea,children:Object(n.jsx)(E.a,{fullWidth:!0,onClick:function(){s(!i)},children:i?Object(n.jsx)(z.a,{}):Object(n.jsx)(P.a,{})})})]})},Q=a(89),V=a.n(Q),X=function(){var e=Object(w.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.get("https://casescan.herokuapp.com".concat(t),{params:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(w.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.params,r=a.data,e.next=3,V.a.post("https://casescan.herokuapp.com".concat(t),JSON.stringify(r),{params:n,headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("/clinical_cases");case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data.response.results);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(w.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X("/clinical_cases",{case_id:parseInt(t)});case 3:if(200!==(a=e.sent).status){e.next=8;break}if(!a.data.error){e.next=7;break}return e.abrupt("return",a.data);case 7:return e.abrupt("return",a.data.response.results);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:"Invalid input. The ID is between 1 and 2500"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ee=Object(l.a)((function(e){return{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderRadius:"4px 0 0 4px"}}},container:{flexGrow:1,display:"flex",height:"100%",width:"inherit",backgroundColor:e.palette.grey[100]},containerBody:{padding:"5em",paddingTop:"1em"},itemHeader:{backgroundColor:e.palette.primary.main,padding:"2em",paddingTop:"2em"},itemSearch:{paddingTop:"2em"},itemCards:{paddingTop:"2em"},itemButton:{display:"flex",justifyContent:"left"},button:{borderRadius:"0"},containerSearch:{display:"flex",paddingLeft:"1em"},containerCard:{marginBottom:"2em"},input:{width:"100%"}}}));var te=function(){var e=ee(),t=c.a.useState([]),a=Object(S.a)(t,2),r=a[0],i=a[1],s=c.a.useState(""),l=Object(S.a)(s,2),u=l[0],d=l[1],j=c.a.useState(1),m=Object(S.a)(j,2),p=m[0],b=m[1],h=function(e){d(e.target.value)},x=function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=6;break}return e.next=3,$(u);case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,Z();case 8:t=e.sent;case 9:return e.next=11,i(t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(o.a,{container:!0,direction:"column",className:e.container,children:[Object(n.jsx)(o.a,{item:!0,className:e.itemHeader,children:Object(n.jsx)(B.a,{variant:"h4",children:"Clinical Cases"})}),Object(n.jsx)(o.a,{item:!0,children:Object(n.jsxs)(o.a,{container:!0,direction:"column",className:e.containerBody,children:[Object(n.jsx)(o.a,{item:!0,className:e.itemSearch,children:Object(n.jsxs)(v.a,{component:"form",className:e.containerSearch,children:[Object(n.jsx)(T.a,{className:e.input,placeholder:"Search clinical case by id",value:u,onChange:h,inputProps:{"aria-label":"search clinical case"}}),Object(n.jsx)(_.a,{className:e.iconButton,onClick:x,"aria-label":"search",children:Object(n.jsx)(f.a,{})})]})}),Object(n.jsx)(o.a,{item:!0,className:e.itemCards,children:function(){for(var t=3*p<r.length?3*p:r.length,a=0,c=[];a<t;){var i=r[a];c.push(Object(n.jsx)("div",{className:e.containerCard,children:Object(n.jsx)(K,{case_id:i.case_id,sections:i.sections})})),a+=1}return c}()}),r&&!(3*p>=r.length)&&Object(n.jsx)(o.a,{item:!0,className:e.itemButton,children:Object(n.jsx)(I.a,{variant:"contained",color:"secondary",onClick:function(){b(p+1)},className:e.button,children:"Show more documents"})})]})})]})},ae=a(213),ne=a(212),re=a(78),ce=a(214),ie=function(){var e=Object(w.a)(N.a.mark((function e(t){var a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.case_id,n=t.sections,e.next=3,Y("/search/clinical_case",{data:{section_names:n},params:{case_id:a}});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data.response.results);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(w.a)(N.a.mark((function e(t){var a,n,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.section_names,n=t.aggregated_search,r=void 0===n||n,e.next=3,Y("/search/text",{data:{section_names:a,aggregated_search:r}});case 3:if(200!==(c=e.sent).status){e.next=8;break}return e.abrupt("return",c.data.response.results);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=a(46),le=a(38),ue=Object(l.a)((function(e){return{card:{width:"inherit",marginTop:"0.5em",marginBottom:"0.5em"},cardAction:{display:"block",textAlign:"justify"},cardClicked:{width:"inherit",marginTop:"0.5em",marginBottom:"0.5em",backgroundColor:e.palette.secondary.light}}}));var de=function(e){var t=ue(),a=c.a.useState([!1,!1,!1,!1,!1,!1]),r=Object(S.a)(a,2),i=r[0],s=r[1];return Object(n.jsx)(o.a,{container:!0,direction:"row",children:q.map((function(a,r){return Object(n.jsx)(H.a,{square:!0,fullWidth:!0,className:i[r]?t.cardClicked:t.card,children:Object(n.jsx)(le.a,{className:t.cardAction,onClick:function(t){return function(t){var a=t.currentTarget.id;for(var n in q)if(q[n]===a){var r=Object(oe.a)(i);r[n]=!i[n],s(Object(oe.a)(r)),e.onSelect(r);break}}(t)},id:a,children:Object(n.jsxs)(R.a,{children:[Object(n.jsx)(B.a,{variant:"h6",children:F(a)}),Object(n.jsx)(B.a,{variant:"body1",children:e.sections[a]})]})})})}))})},je=Object(l.a)((function(e){return{container:{marginBottom:"2em"},title:{textAlign:"left",textTransform:"uppercase",color:e.palette.text.secondary,lineHeight:"2em"},subtitle:{textTransform:"uppercase",fontWeight:500},paragraph:{textAlign:"justify"},divider:{marginBottom:"1em"},pos:{marginBottom:12}}}));var me=function(e){var t=je();return Object(n.jsx)(o.a,{item:!0,children:function(){var a=q.map((function(a){if(a in e.sections)return Object(n.jsxs)(o.a,{container:!0,direction:"column",children:[Object(n.jsxs)(B.a,{variant:"subtitle1",component:"h2",className:t.title,children:["Section: ",F(a)]}),Object(n.jsx)(W.a,{className:t.divider}),e.sections[a].map((function(e){return Object(n.jsx)("div",{className:t.container,children:Object(n.jsx)(K,{case_id:e.case_id,sections:e.sections,percentage:e.percentage})})}))]})}));return a=a.filter((function(e){return null!=e}))}()})};function pe(e){return Object(n.jsx)(ce.a,Object(re.a)({elevation:6,variant:"filled"},e))}var be=Object(l.a)((function(e){return{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderRadius:"4px 0 0 4px"}}},input:{width:"100%"},containerSearch:{display:"flex",paddingLeft:"1em",marginBottom:"1em",marginTop:"0.5em"},container:{padding:"2em",paddingLeft:"5em",paddingRight:"5em"},itemButton:{marginTop:"1em",width:"100%",display:"flex",justifyContent:"left"},resultHeader:{marginBottom:"2em"},button:{borderRadius:"0",paddingTop:"0.7em",paddingBottom:"0.7em"},subtitle:{marginBottom:"1em"}}}));var he=function(){var e=be(),t=c.a.useState(""),a=Object(S.a)(t,2),r=a[0],i=a[1],s=c.a.useState({clinicalCase:{case_id:"",sections:{}},results:{}}),l=Object(S.a)(s,2),u=l[0],d=l[1],j=c.a.useState([]),m=Object(S.a)(j,2),p=m[0],b=m[1],h=c.a.useState({error:!1,message:""}),x=Object(S.a)(h,2),O=x[0],g=x[1];c.a.useEffect((function(){window.scrollTo(0,0)}),[u]);var y=function(e){i(e.target.value)},C=function(){var e=Object(w.a)(N.a.mark((function e(){var t,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(u.clinicalCase.sections).length||!r){e.next=7;break}return e.next=3,$(r);case 3:"error"in(t=e.sent)?g({error:!0,message:t.message}):d({clinicalCase:t[0],results:{}}),e.next=14;break;case 7:if(!Object.keys(u.clinicalCase.sections).length){e.next=14;break}return a=(a=q.map((function(e,t){if(p[t])return e}))).filter((function(e){return null!=e})),e.next=12,ie({case_id:u.clinicalCase.case_id,sections:a});case 12:n=e.sent,d({results:n,clinicalCase:Object(re.a)(Object(re.a)({},u.clinicalCase),{},{sections:[]})});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){return!!Object.keys(u.clinicalCase.sections).length};return Object(n.jsxs)(o.a,{container:!0,direction:"column",className:e.container,children:[!u.clinicalCase.case_id&&Object(n.jsxs)(o.a,{item:!0,children:[Object(n.jsxs)(v.a,{component:"form",className:e.containerSearch,children:[Object(n.jsx)(T.a,{className:e.input,placeholder:"Search clinical case by id",value:r,onChange:y,fullWidth:!0,inputProps:{"aria-label":"search clinical case"}}),Object(n.jsx)(_.a,{className:e.iconButton,onClick:C,"aria-label":"search",children:Object(n.jsx)(f.a,{})})]}),O.error&&Object(n.jsx)(pe,{severity:"error",children:O.message})]}),k()&&Object(n.jsxs)(o.a,{item:!0,children:[Object(n.jsx)(B.a,{variant:"subtitle1",className:e.subtitle,children:"Select the paragraphs that you want to search by:"}),Object(n.jsx)(de,{sections:u.clinicalCase.sections,onSelect:function(e){b(e)}})]}),k()&&Object(n.jsx)(o.a,{item:!0,className:e.itemButton,children:Object(n.jsx)(I.a,{variant:"contained",color:"primary",onClick:C,className:e.button,children:Object(n.jsx)(B.a,{variant:"body",children:"Search similarity"})})}),!!Object.keys(u.results).length&&function(){var t=Object.keys(u.results);return t=(t=t.map((function(e){return F(e)}))).join(", "),Object(n.jsxs)(o.a,{container:!0,direction:"column",children:[Object(n.jsxs)(o.a,{item:!0,className:e.resultHeader,children:[Object(n.jsxs)(B.a,{variant:"subtitle1",children:["Clinics cases similarities with clinical case ",Object(n.jsx)("b",{children:u.clinicalCase.case_id}),". "]}),Object(n.jsxs)(B.a,{variant:"subtitle2",children:["Topic(s): ",t]})]}),Object(n.jsx)(me,{sections:u.results})]})}()]})},xe=a(211),fe=a(218),Oe=Object(l.a)((function(e){return{container:{paddingRight:"3em",paddingLeft:"3em",paddingTop:"2em"},paragraph:{marginBottom:"1em"},paragraphTitle:{fontWeight:500,marginBottom:"0.5em"},input:{width:"100%",padding:"1em"},button:{borderRadius:"0",paddingTop:"0.7em",paddingBottom:"0.7em"},switch:{marginBottom:"1em",marginTop:"1em"}}}));var ge=function(){var e=Oe(),t=q.map((function(){return""})),a=c.a.useState(t),r=Object(S.a)(a,2),i=r[0],s=r[1],l=c.a.useState([]),u=Object(S.a)(l,2),d=u[0],j=u[1],m=c.a.useState(!1),p=Object(S.a)(m,2),b=p[0],h=p[1];c.a.useEffect((function(){window.scrollTo(0,0)}),[d]);var x=function(){var e=Object(w.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=q.map((function(e,t){if(i[t].length)return i[t]}))).filter((function(e){return null!=e})),e.next=4,se({section_names:t,aggregated_search:b});case 4:return a=e.sent,e.next=7,j(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){return!!Object.keys(d).length};return Object(n.jsxs)(o.a,{container:!0,direction:"column",className:e.container,children:[!f()&&Object(n.jsxs)(o.a,{item:!0,children:[function(){var t=q.map((function(t,a){return Object(n.jsxs)(o.a,{item:!0,className:e.paragraph,children:[Object(n.jsx)(B.a,{className:e.paragraphTitle,children:F(q[a])}),Object(n.jsx)(v.a,{square:!0,children:Object(n.jsx)(T.a,{className:e.input,value:i[a],onChange:function(e){return function(e){var t=e.currentTarget.id,a=Object(oe.a)(i);a[t]=e.currentTarget.value,s(Object(oe.a)(a))}(e)},id:a,multiline:!0,placeholder:"Write your case details here ...",rows:4})})]})}));return Object(n.jsx)(o.a,{container:!0,direction:"column",children:t})}(),Object(n.jsx)("div",{className:e.switch,children:Object(n.jsx)(xe.a,{control:Object(n.jsx)(fe.a,{checked:b,onChange:function(){return h(!b)},name:"checkedA"}),label:"Aggregated search"})})]}),!f()&&Object(n.jsx)(o.a,{item:!0,children:Object(n.jsx)(E.a,{variant:"contained",color:"primary",className:e.button,onClick:x,children:"SEARCH SIMILAR CLINICAL CASE"})}),f&&Object(n.jsx)(o.a,{item:!0,children:Object(n.jsx)(me,{sections:d})})]})},ve=Object(l.a)((function(e){return{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderRadius:"4px 0 0 4px"}}},container:{flexGrow:1,display:"flex",height:"100%",width:"inherit",backgroundColor:e.palette.grey[100]},itemSearch:{backgroundColor:e.palette.primary.main},paperSearch:{padding:"2em",paddingTop:"1em",paddingBottom:"0.5em",backgroundColor:e.palette.primary.main},itemHeader:{backgroundColor:e.palette.primary.main,padding:"2em",paddingBottom:"0.5em"},indicator:{backgroundColor:e.palette.primary.dark}}}));var ye=function(){var e=ve(),t=c.a.useState(0),a=Object(S.a)(t,2),r=a[0],i=a[1];return Object(n.jsxs)(o.a,{container:!0,direction:"column",className:e.container,children:[Object(n.jsx)(o.a,{item:!0,className:e.itemHeader,children:Object(n.jsx)(B.a,{variant:"h4",children:"Search similarities"})}),Object(n.jsx)(o.a,{item:!0,className:e.itemSearch,children:Object(n.jsx)(v.a,{className:e.paperSearch,elevation:0,square:!0,children:Object(n.jsxs)(ae.a,{value:r,onChange:function(e,t){i(t)},className:e.tab,classes:{indicator:e.indicator},children:[Object(n.jsx)(ne.a,{label:"By existing clinical case"}),Object(n.jsx)(ne.a,{label:"By text"})]})})}),Object(n.jsx)(o.a,{item:!0,children:r?Object(n.jsx)(ge,{}):Object(n.jsx)(he,{})})]})},Ce=Object(l.a)((function(e){return{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderRadius:"4px 0 0 4px"}}},container:{flexGrow:1,display:"flex",height:"100%",width:"inherit",backgroundColor:e.palette.grey[100]},containerBody:{padding:"2em",paddingTop:"1em"},itemHeader:{backgroundColor:e.palette.primary.main,padding:"2em",paddingTop:"2em"}}}));var ke=function(){var e=Ce();return Object(n.jsxs)(o.a,{container:!0,direction:"column",className:e.container,children:[Object(n.jsx)(o.a,{item:!0,className:e.itemHeader,children:Object(n.jsx)(B.a,{variant:"h4",children:"Stats"})}),Object(n.jsx)(o.a,{item:!0,children:Object(n.jsx)(o.a,{container:!0,direction:"column",className:e.containerBody,children:Object(n.jsx)(o.a,{item:!0,className:e.itemSearch})})})]})},Ne=a(113),we=Object(Ne.a)({palette:{primary:{main:"#d4e157"},secondary:{main:"#ffb74d"}}}),Se=Object(l.a)((function(e){return{container:{height:"inherit"}}}));var Be=function(){var e=Se();return Object(n.jsx)(u.a,{theme:we,children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(o.a,{container:!0,direction:"row",className:e.container,children:[Object(n.jsx)(o.a,{item:!0,sm:2,children:Object(n.jsx)(C,{})}),Object(n.jsx)(o.a,{item:!0,sm:10,children:Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/clinical-cases",children:Object(n.jsx)(te,{})}),Object(n.jsx)(j.a,{path:"/search",children:Object(n.jsx)(ye,{})}),Object(n.jsx)(j.a,{path:"/stats",children:Object(n.jsx)(ke,{})})]})})]})})})},Te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,219)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Be,{})}),document.getElementById("root")),Te()}},[[177,1,2]]]);
//# sourceMappingURL=main.e6d0a675.chunk.js.map